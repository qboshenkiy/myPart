{
    "drawflow": {
        "Home": {
            "data": {
                "1": {
                    "id": 1,
                    "name": "process",
                    "data": {
                        "fields": [
                            {
                                "label": "id",
                                "type": "INT",
                                "value": "AUTO_INCREMENT PRIMARY KEY INT"
                            },
                            {
                                "label": "name",
                                "type": "VARCHAR",
                                "value": "VARCHAR(255))"
                            },
                            {
                                "label": "description",
                                "type": "TEXT",
                                "value": "TEXT"
                            },
                            {
                                "label": "flow_json",
                                "type": "LONGTEXT",
                                "value": "JSON"
                            },
                            {
                                "label": "created_at",
                                "type": "LONGTEXT",
                                "value": "DATETIME DEFAULT CURRENT_TIMESTAMP"
                            }
                        ],
                        "title": "workflows",
                        "context": []
                    },
                    "class": "process",
                    "html": "<div class=\"node-title\">process</div><div class=\"node-type\">Process</div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": [
                                {
                                    "node": "6",
                                    "output": "input_1"
                                }
                            ]
                        }
                    },
                    "pos_x": -1225,
                    "pos_y": 105.5
                },
                "3": {
                    "id": 3,
                    "name": "process",
                    "data": {
                        "fields": [
                            {
                                "label": "id",
                                "type": "INT",
                                "value": "AUTO_INCREMENT PRIMARY KEY"
                            },
                            {
                                "label": "wokflow_id",
                                "type": "INT",
                                "value": "INT"
                            },
                            {
                                "label": "current_node_id",
                                "type": "TEXT",
                                "value": "VARCHAR(36)"
                            },
                            {
                                "label": "context",
                                "type": "TEXT",
                                "value": "JSON"
                            },
                            {
                                "label": "status",
                                "type": "LONGTEXT",
                                "value": "['running','completed','failed'] ENUM DEFAULT 'running'"
                            },
                            {
                                "label": "created_at",
                                "type": "TEXT",
                                "value": "DATETIME DEFAULT CURRENT_TIMESTAMP"
                            }
                        ],
                        "title": "workflow_istances",
                        "context": []
                    },
                    "class": "process",
                    "html": "<div class=\"node-title\">process</div><div class=\"node-type\">Process</div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": [
                                {
                                    "node": "5",
                                    "input": "output_1"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 142,
                    "pos_y": 108
                },
                "4": {
                    "id": 4,
                    "name": "process",
                    "data": {
                        "fields": [
                            {
                                "label": "id",
                                "type": "TEXT",
                                "value": "INT AUTO_INCREMENT PRIMARY KEY"
                            },
                            {
                                "label": "instance_id",
                                "type": "INT",
                                "value": "INT"
                            },
                            {
                                "label": "action_id",
                                "type": "INT",
                                "value": "VARCHAR(36),"
                            },
                            {
                                "label": "status",
                                "type": "INT",
                                "value": "ENUM('started','completed','error'),"
                            },
                            {
                                "label": "message",
                                "type": "INT",
                                "value": "TEXT"
                            },
                            {
                                "label": "created_at",
                                "type": "INT",
                                "value": "DATETIME DEFAULT CURRENT_TIMESTAMP"
                            }
                        ],
                        "title": "workflow_logs",
                        "context": []
                    },
                    "class": "process",
                    "html": "<div class=\"node-title\">process</div><div class=\"node-type\">Process</div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": []
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": 554,
                    "pos_y": 87
                },
                "5": {
                    "id": 5,
                    "name": "process",
                    "data": {
                        "fields": [
                            {
                                "label": "id",
                                "type": "TEXT",
                                "value": ""
                            },
                            {
                                "label": "name",
                                "type": "TEXT",
                                "value": ""
                            },
                            {
                                "label": "type",
                                "type": "TEXT",
                                "value": ""
                            },
                            {
                                "label": "node_id",
                                "type": "TEXT",
                                "value": ""
                            }
                        ],
                        "title": "Context (get_context)",
                        "context": []
                    },
                    "class": "process",
                    "html": "<div class=\"node-title\">process</div><div class=\"node-type\">Process</div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": [
                                {
                                    "node": "6",
                                    "input": "output_1"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": [
                                {
                                    "node": "3",
                                    "output": "input_1"
                                }
                            ]
                        }
                    },
                    "pos_x": -300.42857142857144,
                    "pos_y": 168
                },
                "6": {
                    "id": 6,
                    "name": "process",
                    "data": {
                        "fields": [
                            {
                                "label": "flow_json",
                                "type": "LONGTEXT",
                                "value": "JSON"
                            },
                            {
                                "label": "functions",
                                "type": "LONGTEXT",
                                "value": "parse_json($json) -основная функция \nlog_json($json) - парсит в html   \nget_context($json) - возвращает данные каждой ноды  таблицы"
                            },
                            {
                                "label": "Description",
                                "type": "LONGTEXT",
                                "value": "Парсим flow_json в поля в php то есть это таже самая структура json но только уже хранится в объектах php с которыми можно взаимодействовать добавляя в базу данных возвращать в HTML и передавать хоть куда "
                            }
                        ],
                        "title": "Parse flow_json",
                        "context": []
                    },
                    "class": "process",
                    "html": "<div class=\"node-title\">process</div><div class=\"node-type\">Process</div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": [
                                {
                                    "node": "1",
                                    "input": "output_1"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": [
                                {
                                    "node": "5",
                                    "output": "input_1"
                                },
                                {
                                    "node": "7",
                                    "output": "input_1"
                                }
                            ]
                        }
                    },
                    "pos_x": -756.4285714285714,
                    "pos_y": 310
                },
                "7": {
                    "id": 7,
                    "name": "log",
                    "data": {
                        "fields": [
                            {
                                "label": "Description",
                                "type": "LONGTEXT",
                                "value": "Вывод в читабельном варианте html table, th, tr, td"
                            }
                        ],
                        "title": "HTML LOG (log_json)",
                        "context": []
                    },
                    "class": "log",
                    "html": "<div class=\"node-title\">log</div><div class=\"node-type\"><strong>Log</strong></div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": [
                                {
                                    "node": "6",
                                    "input": "output_1"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        }
                    },
                    "pos_x": -289.14285714285717,
                    "pos_y": 620
                },
                "9": {
                    "id": 9,
                    "name": "condition",
                    "data": {
                        "context": [],
                        "fields": [
                            {
                                "label": "Условия",
                                "type": "LONGTEXT",
                                "value": "Добавить инициализацию переменных"
                            }
                        ],
                        "title": "condition",
                        "conditions": []
                    },
                    "class": "condition",
                    "html": "<div class=\"node-title\">condition</div><div class=\"node-type\"><strong>Condition</strong></div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": [
                                {
                                    "node": "11",
                                    "input": "output_1"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": []
                        },
                        "output_2": {
                            "connections": []
                        }
                    },
                    "pos_x": -213,
                    "pos_y": -207.22222222222223
                },
                "10": {
                    "id": 10,
                    "name": "start",
                    "data": {
                        "context": []
                    },
                    "class": "start",
                    "html": "<div class=\"node-title\">start</div><div class=\"node-type\">Start</div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {},
                    "outputs": {
                        "output_1": {
                            "connections": [
                                {
                                    "node": "11",
                                    "output": "input_1"
                                }
                            ]
                        }
                    },
                    "pos_x": -1120.857142857143,
                    "pos_y": -140
                },
                "11": {
                    "id": 11,
                    "name": "process",
                    "data": {
                        "context": [],
                        "fields": [
                            {
                                "label": "Условия",
                                "type": "LONGTEXT",
                                "value": "Добавить инициализацию переменных"
                            }
                        ],
                        "title": "Доработать"
                    },
                    "class": "process",
                    "html": "<div class=\"node-title\">process</div><div class=\"node-type\">Process</div><div class=\"node-content\"></div>",
                    "typenode": false,
                    "inputs": {
                        "input_1": {
                            "connections": [
                                {
                                    "node": "10",
                                    "input": "output_1"
                                }
                            ]
                        }
                    },
                    "outputs": {
                        "output_1": {
                            "connections": [
                                {
                                    "node": "9",
                                    "output": "input_1"
                                }
                            ]
                        }
                    },
                    "pos_x": -664.2222222222222,
                    "pos_y": -99.11111111111111
                }
            }
        }
    }
}